<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="Hugo 0.15" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <link rel='stylesheet' href='//fonts.googleapis.com/css?family=Open+Sans|Marcellus+SC'>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/solarized_dark.min.css">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/magnific-popup/magnific-popup.css">
    <link rel="stylesheet" href="/css/custom.css">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="https://henrik-farre.github.io//index.xml">

    
    <title>Check video encoding script for MythTV - Rockhopper.dk</title>
    <meta property='og:title' content="Check video encoding script for MythTV - Rockhopper.dk">
    <meta property="og:type" content="article">
    

    <meta property="og:url" content="https://henrik-farre.github.io/linux/software/mythtv/check-video-encoding-script-for-mythtv/">
    
    

  </head>

  <body>

    <header class="site">
      <nav class="navbar navbar-default">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://henrik-farre.github.io/">Rockhopper.dk</a>
          </div>

          <div id="navbar" class="collapse navbar-collapse">
            
          </div>

        </div>
      </nav>
    </header>

    <div class="site">
      <div class="container">



<div class="single">

  <div class="row">
    <div class="col-md-8">

      <article class="single" itemscope="itemscope" itemtype="http://schema.org/Article">

        <meta itemprop="mainEntityOfPage"  itemType="https://schema.org/WebPage" content="https://henrik-farre.github.io/"/>
        <meta itemprop="dateModified" content="2008-06-28T00:00:00&#43;00:00">
        <meta itemprop="headline" content="Check video encoding script for MythTV">
        <meta itemprop="description" content="I&#8217;m using Xine as the preferred video player on my MythTV frontend, because it has a nice video output driver called &#8220;xxmc&#8221;. This driver enables hardware accelerated playback of mpeg1/2 streams (e.g. ivtv recordings or DVDs) on Geforce 7xxx and other Geforce chips.
">
        <meta itemprop="url" content="https://henrik-farre.github.io/linux/software/mythtv/check-video-encoding-script-for-mythtv/">
        <div itemprop="image" itemscope itemtype="https://schema.org/ImageObject">
          <meta itemprop="url" content="https://henrik-farre.github.io/images/default.jpg" />
          <meta itemprop="width" content="800">
          <meta itemprop="height" content="800">
        </div>
        <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
          <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <meta itemprop="url" content="https://henrik-farre.github.io/images/logo.jpg">
            <meta itemprop="width" content="100">
            <meta itemprop="height" content="100">
          </div>
          <meta itemprop="name" content="Rockhopper.dk">
        </div>
        <div itemprop="author" itemscope itemtype="https://schema.org/Person">
          <meta itemprop="name" content="">
        </div>

        <header class="article-header">
          <time itemprop="datePublished" pubdate="pubdate" datetime="2008-06-28T00:00:00&#43;00:00">Sat, Jun 28, 2008</time>
          <h1 class="article-title">Check video encoding script for MythTV</h1>
        </header>

        <div class="article-body" itemprop="articleBody">
          <p>I&#8217;m using Xine as the preferred video player on my MythTV frontend, because it has a nice video output driver called &#8220;xxmc&#8221;. This driver enables hardware accelerated playback of mpeg1/2 streams (e.g. ivtv recordings or DVDs) on Geforce 7xxx and other Geforce chips. The driver should fall back to the xv driver if the stream is in another format than mpeg1/2, but somehow the xxmc drives screws up playback of videos encoded with Xvid as playback gets really jerky.</p>

<p>I order to work around this, I created a script to check which video encoding is used, and if it&#8217;s Xvid, Xine uses xv output. The script just requires MPlayer. Dump the script somewhere MythTV can find it, and set it as the preferred video player in MythTV.</p>

<p>You can of cause adapt it if you would like to use MPlayer instead of Xine, or want the script to check for something else than Xvid, or want the script to check for something entirely different then encoding (size maybe?), just check the output of: mplayer -identify &#8220;file&#8221;</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span><span class="ch">#!/bin/bash</span>

<span class="c1"># Don&#39;t check encoding if MythTV is trying to playback a DVD</span>
<span class="k">if</span> <span class="o">[[</span> <span class="si">${</span><span class="nv">1</span><span class="si">}</span> !<span class="o">=</span> <span class="s1">&#39;dvd://&#39;</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
  <span class="nv">VIDEO_FORMAT</span><span class="o">=</span><span class="sb">`</span>mplayer -really-quiet -identify -frames  -vc null -vo null -ao null <span class="si">${</span><span class="nv">1</span><span class="si">}</span> 2&lt;/dev/null <span class="p">|</span> awk -F<span class="o">=</span> <span class="s1">&#39;/^ID_VIDEO_FORMAT/ {print $2}&#39;</span><span class="sb">`</span> <span class="c1"># ID_VIDEO_FORMAT contains the encoding</span>
<span class="k">else</span>
  <span class="nv">VIDEO_FORMAT</span><span class="o">=</span><span class="s1">&#39;dvd&#39;</span>
<span class="k">fi</span>

<span class="k">if</span> <span class="o">[[</span> <span class="si">${</span><span class="nv">VIDEO_FORMAT</span><span class="si">}</span> <span class="o">=</span> <span class="s1">&#39;XVID&#39;</span>  <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
  <span class="nv">VIDEO_DRIVER</span><span class="o">=</span><span class="s2">&quot;-V xv&quot;</span> <span class="c1"># Use xv output for Xvid, xxmc for everything else</span>
<span class="k">else</span>
  <span class="nv">VIDEO_DRIVER</span><span class="o">=</span><span class="s2">&quot;-V xxmc&quot;</span>
<span class="k">fi</span>

<span class="c1"># Xine options</span>
<span class="nv">AUDIO_DRIVER</span><span class="o">=</span><span class="s2">&quot;-A alsa&quot;</span>
<span class="nv">EXTRA_OPTIONS</span><span class="o">=</span><span class="s2">&quot;-pfhq --no-splash&quot;</span>
<span class="nv">DEBUG_OPTIONS</span><span class="o">=</span><span class="s2">&quot;--verbose=5 &lt; /shared/mythtv/xine.log&quot;</span>

xine <span class="si">${</span><span class="nv">VIDEO_DRIVER</span><span class="si">}</span> <span class="si">${</span><span class="nv">AUDIO_DRIVER</span><span class="si">}</span> <span class="si">${</span><span class="nv">EXTRA_OPTIONS</span><span class="si">}</span> <span class="si">${</span><span class="nv">1</span><span class="si">}</span>
</code></pre></div>


        </div>


        <aside>
          <div class="section"><a href="https://henrik-farre.github.io/tags/mythfrontend" class="tag">mythfrontend</a> </div>

          <div class="section share">
            <a href="http://www.facebook.com/sharer.php?src=bm&u=https%3a%2f%2fhenrik-farre.github.io%2flinux%2fsoftware%2fmythtv%2fcheck-video-encoding-script-for-mythtv%2f&t=Check%20video%20encoding%20script%20for%20MythTV" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-facebook"></i></a>
            <a href="http://twitter.com/intent/tweet?url=https%3a%2f%2fhenrik-farre.github.io%2flinux%2fsoftware%2fmythtv%2fcheck-video-encoding-script-for-mythtv%2f&text=Check%20video%20encoding%20script%20for%20MythTV&tw_p=tweetbutton" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-twitter"></i></a>
            <a href="https://plus.google.com/share?url=https%3a%2f%2fhenrik-farre.github.io%2flinux%2fsoftware%2fmythtv%2fcheck-video-encoding-script-for-mythtv%2f" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-google-plus"></i></a>
            <a href="http://getpocket.com/edit?url=https%3a%2f%2fhenrik-farre.github.io%2flinux%2fsoftware%2fmythtv%2fcheck-video-encoding-script-for-mythtv%2f&title=Check%20video%20encoding%20script%20for%20MythTV" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-get-pocket"></i></a>
          </div>

          
          
          
        </aside>

      </article>

    </div>
    <div class="col-md-4">
      
<aside class="site">

  <div class="panel panel-default">
    <div class="panel-heading">
      <h2 class="panel-title">LatestPosts</h2>
    </div>
    <div class="list-group">
      
      <a href="https://henrik-farre.github.io/linux/mouse-hover-not-working-in-chromechromium-solution-stop-synergy/" class="list-group-item">Mouse hover not working in Chrome/Chromium? Solution: stop synergy</a>
      
      <a href="https://henrik-farre.github.io/linux/multiple-profiles-in-firefox-tips-and-tricks/" class="list-group-item">Multiple profiles in Firefox: tips and tricks</a>
      
      <a href="https://henrik-farre.github.io/linux/zsh-promptwindow-title-trim-middle-of-path/" class="list-group-item">zsh prompt/window title: trim middle of path</a>
      
      <a href="https://henrik-farre.github.io/linux/docker-and-php-xdebug/" class="list-group-item">Docker and PHP xdebug</a>
      
      <a href="https://henrik-farre.github.io/linux/hardware/htpcnas-for-watching-netflix-on-linux-part-1-the-hardware/" class="list-group-item">HTPC/NAS for watching Netflix on Linux part 1: the hardware</a>
      
      <a href="https://henrik-farre.github.io/linux/hardware/uefi-booting-arch-linux-on-a-hp-probook-6360b/" class="list-group-item">UEFI booting Arch Linux on a HP ProBook 6360b</a>
      
      <a href="https://henrik-farre.github.io/linux/hardware/phone-and-pda/installing-cyanogenmod-7-1-on-a-sony-ericsson-xperia-arc-lt15i/" class="list-group-item">Installing CyanogenMod 7.1 on a Sony Ericsson Xperia Arc (LT15i)</a>
      
      <a href="https://henrik-farre.github.io/linux/hardware/phone-and-pda/upgrading-an-android-developer-phone-1-to-cyanogenmod-5-0-7-android-2-1/" class="list-group-item">Upgrading an Android Developer Phone 1 to Cyanogenmod 5.0.7 (Android 2.1)</a>
      
      <a href="https://henrik-farre.github.io/linux/software/mythtv/anysee-e30-c-plus-mythtv/" class="list-group-item">AnySee E30 C Plus &#43; MythTV</a>
      
      <a href="https://henrik-farre.github.io/linux/software/xfce/xfce-auto-rotate-wallpaper-without-cron/" class="list-group-item">Xfce: auto rotate wallpaper without cron</a>
      
    </div>
  </div>

  
  <div class="panel panel-default">
    <div class="panel-heading">
      <h2 class="panel-title">category</h2>
    </div>
    <div class="list-group">
      
      <a href="https://henrik-farre.github.io/categories/software" class="list-group-item">software</a>
      
      <a href="https://henrik-farre.github.io/categories/hardware" class="list-group-item">hardware</a>
      
      <a href="https://henrik-farre.github.io/categories/phone-and-pda" class="list-group-item">phone-and-pda</a>
      
      <a href="https://henrik-farre.github.io/categories/linux" class="list-group-item">linux</a>
      
      <a href="https://henrik-farre.github.io/categories/mythtv" class="list-group-item">mythtv</a>
      
      <a href="https://henrik-farre.github.io/categories/xfce" class="list-group-item">xfce</a>
      
      <a href="https://henrik-farre.github.io/categories/development" class="list-group-item">development</a>
      
      <a href="https://henrik-farre.github.io/categories/php" class="list-group-item">php</a>
      
      <a href="https://henrik-farre.github.io/categories/vim" class="list-group-item">vim</a>
      
      <a href="https://henrik-farre.github.io/categories/xorg" class="list-group-item">xorg</a>
      
    </div>
  </div>
  
  <div class="panel panel-default">
    <div class="panel-heading">
      <h2 class="panel-title">tag</h2>
    </div>
    <div class="list-group">
      
      <a href="https://henrik-farre.github.io/tags/android" class="list-group-item">android</a>
      
      <a href="https://henrik-farre.github.io/tags/mythbackend" class="list-group-item">mythbackend</a>
      
      <a href="https://henrik-farre.github.io/tags/archlinux" class="list-group-item">archlinux</a>
      
      <a href="https://henrik-farre.github.io/tags/zsh" class="list-group-item">zsh</a>
      
      <a href="https://henrik-farre.github.io/tags/motherboard" class="list-group-item">motherboard</a>
      
      <a href="https://henrik-farre.github.io/tags/mythfrontend" class="list-group-item">mythfrontend</a>
      
      <a href="https://henrik-farre.github.io/tags/dvb-c" class="list-group-item">dvb-c</a>
      
      <a href="https://henrik-farre.github.io/tags/booting" class="list-group-item">booting</a>
      
      <a href="https://henrik-farre.github.io/tags/nagios" class="list-group-item">nagios</a>
      
      <a href="https://henrik-farre.github.io/tags/chromium" class="list-group-item">chromium</a>
      
    </div>
  </div>
  

</aside>


    </div>
  </div>

</div>

      </div>
    </div>

    <footer class="site">
      <div class="container">
        <p>&copy; 2014 Rockhopper.dk</p>
        <p>Powered by <a href="http://gohugo.io" target="_blank">Hugo</a>,</p>
        <p>Theme <a href="https://github.com/dim0627/hugo_theme_beg" target="_blank">Beg</a> designed by <a href="http://yet.unresolved.xyz" target="_blank">Daisuke Tsuji</a></p>
      </div>
    </footer>

    <script src="//code.jquery.com/jquery-2.2.1.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/magnific-popup/jquery.magnific-popup.js"></script>
    <script src="/js/rockhopper.js"></script>

    
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-4186065-1', 'auto');
    ga('send', 'pageview');
    </script>
    

  </body>
</html>

